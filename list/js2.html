<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">

    <!-- 오픈그래프 -->
    <meta property="og:type" content="website"> <!-- 사이트 종류 -->
        <!-- 사이트의 대표 url -->
    <meta property="og:url" content="https://meta-tony-test1.github.io/portfolio_v1.0">
    <meta property="og:title" content="meta-tony">
    <meta property="og:image" content="../images/op.jpg">
    <meta property="og:description" content="김성훈 포트폴리오입니다.">
    <meta property="og:site_name" content="계획적이고 근면한 웹 퍼블리셔 김성훈입니다.">
    <meta property="og:locale" content="ko_KR"> <!-- 사이트 언어 기본값 en_US -->
        <!-- 이미지 사이즈 -->
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <!--style-->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="./prism.css">

    <!--favicon-->
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="../images/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <link rel="apple-touch-icon" sizes="57x57" href="../images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="../images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="../images/favacon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../images/favacon//apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="../images/favacon//apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="../images/favacon//apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="../images/favacon//apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../images/favacon//apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="../images/favacon//android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../images/favacon//favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="../images/favacon//favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../images/favacon//favicon-16x16.png">
    <link rel="manifest" href="../images/favacon//manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="../images/favacon//ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <title>김성훈 | React CRUD</title>
</head>

<body>
    <header>
        <div class="wrap">
            <h1 style="display:none">
                <a href="index.html" >
                    <img src="../images/logo.jpg" alt="meta-tony">
                </a>
            </h1>
            <figure>
                <a href="../portfolio.html">
                    <img src="../images/back.png" alt="뒤로가기">
                </a>
            </figure>
            <ul>
                <li>
                    <a href="../portfolio.html">포트폴리오</a>
                </li>
                <li>
                    <a href="../introduce.html">자기소개</a>
                </li>
            </ul>
        </div>
    </header>
    
    <section class="mono">
       <div class="wrap">
        <h2>
            <span>React</span> AJAX
        </h2>
        <h3>
            <i>&nbsp;&nbsp; 로직과 데이터의 구별을 위한 React AJAX &nbsp;&nbsp;</i>
        </h3>
        <ul>
            <li><a href="./build-ajax/index.html" target="_blank" ><i>실행</i></a></li>
            <li><a href="https://meta-tony.tistory.com/50" target="_blank"><i>블로그 일지</i></a></li>
        </ul>
        <br/><br/>
        <br>
        <h3>실행 기능</h3>
        <div style="background:url(../images/ajax-run.jpg) no-repeat center/90%; height: 259px; margin:0 auto"></div>
        <h2>React Code</h2>
<pre class="line-numbers">
<code class="language-javascript">import React, {Component} from &#x27;react&#x27;;

  class Nav extends Component {
    render(){
      let listTag = [];
      this.props.list.map(arr =&#x3E; {
      return listTag.push(
          &#x3C;li key={arr.id}&#x3E;
          &#x3C;a href={arr.id} data-id={arr.id} onClick={function(e){
            e.preventDefault();
            this.props.onClick(e.target.dataset.id)
          }.bind(this)}&#x3E;
            {arr.title}
          &#x3C;/a&#x3E;
        &#x3C;/li&#x3E;
        )
    })
      return(
        &#x3C;nav&#x3E;
          &#x3C;ul&#x3E;
            {listTag}
          &#x3C;/ul&#x3E;
        &#x3C;/nav&#x3E;
      )
    }
  }
  class Article extends Component{
    render(){
      return(
      &#x3C;article&#x3E;
        &#x3C;h2&#x3E;{this.props.title}&#x3C;/h2&#x3E;
        {this.props.desc}
      &#x3C;/article&#x3E;
      )}
  }
  class NowLoading extends Component{
    render(){
      return &#x3C;div&#x3E;Now Loading...&#x3C;/div&#x3E;
    }
  }
  class App extends Component {
    state = {
      article:{
        item:{title:&#x27;Welcome&#x27;, desc:&#x22;Hello, React &#x26; Ajax&#x22;},
        isLoading:false
      },
      list:{
      items:[],
      isLoading:false
      }
    }
  
    componentDidMount() {
      let newList = Object.assign({}, this.state.list, {isLoading:true});
      this.setState({list:newList})
      fetch(&#x27;list.json&#x27;)
        .then(function(result){
          return result.json();
        })
        .then(function(json){
          this.setState({list:{
            items:json,
            isLoading:false
          }});
        }.bind(this))
    }
    render(){
      let NavTag = null;
  if(this.state.list.isLoading){
    NavTag =  &#x3C;NowLoading&#x3E;&#x3C;/NowLoading&#x3E;
  }else {
    NavTag =  &#x3C;Nav list={this.state.list.items} onClick={function(id){
      //list contents AJAX
      let newArticle = Object.assign({}, this.state.article, {isLoading:true})
      this.setState({article:newArticle})
      fetch(id + &#x22;.json&#x22;)
            .then(function(result){
              return result.json(); 
            })
          .then(function(json){
            this.setState({
              article:{
                item:{
                  title:json.title, 
                  desc:json.desc
              },
              isLoading:false
              }
            })
          }.bind(this))
        }.bind(this)} /&#x3E;
      }
    let ArticleTag = null;
    if(this.state.article.isLoading){
      ArticleTag = &#x3C;NowLoading&#x3E;&#x3C;/NowLoading&#x3E;
    }else{
      ArticleTag = &#x3C;Article title={this.state.article.item.title} desc={this.state.article.item.desc} /&#x3E;
    }
    return (
      &#x3C;div style={{margin:40, border:&#x22;1px solid #aaa&#x22;, padding:40,paddingTop:10}}&#x3E;
        &#x3C;h1&#x3E;Web&#x3C;/h1&#x3E;
        {NavTag}
        {ArticleTag}
      &#x3C;/div&#x3E;
    )};
  }
  
  export default App;
  </code></pre>
        </div>
    </section>


    <script src="./prism.js"></script>
</body>

</html>
